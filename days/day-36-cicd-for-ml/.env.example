# Day 36: CI/CD for ML - Environment Configuration

# =============================================================================
# AWS CONFIGURATION
# =============================================================================

# AWS credentials and region
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key
AWS_DEFAULT_REGION=us-west-2
AWS_ACCOUNT_ID=123456789012

# =============================================================================
# MLFLOW CONFIGURATION
# =============================================================================

# MLflow tracking server
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_S3_ENDPOINT_URL=https://s3.us-west-2.amazonaws.com
MLFLOW_EXPERIMENT_NAME=fraud-detection-pipeline

# MLflow backend store (for production)
MLFLOW_BACKEND_STORE_URI=postgresql://mlflow:password@localhost:5432/mlflow
MLFLOW_DEFAULT_ARTIFACT_ROOT=s3://ml-artifacts-bucket

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL for MLflow backend
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=mlflow
POSTGRES_USER=mlflow
POSTGRES_PASSWORD=password

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================

# Model performance thresholds
MIN_MODEL_ACCURACY=0.85
MIN_MODEL_PRECISION=0.80
MIN_MODEL_RECALL=0.80
MIN_MODEL_F1_SCORE=0.80

# Model serving configuration
MODEL_SERVING_PORT=8000
MODEL_BATCH_SIZE=32
MODEL_TIMEOUT_SECONDS=30

# =============================================================================
# DATA CONFIGURATION
# =============================================================================

# Data quality thresholds
MAX_MISSING_PERCENTAGE=0.05
MAX_DUPLICATE_PERCENTAGE=0.02

# Data paths
DATA_ROOT_PATH=./data
MODEL_ROOT_PATH=./models
ARTIFACT_ROOT_PATH=./artifacts

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# ECS configuration
ECS_CLUSTER_NAME=fraud-detection-cluster
ECS_SERVICE_NAME=fraud-detection-service
ECS_TASK_DEFINITION_FAMILY=fraud-detection

# Load balancer configuration
ALB_TARGET_GROUP_ARN=arn:aws:elasticloadbalancing:us-west-2:123456789012:targetgroup/fraud-detection/1234567890123456
ALB_LISTENER_ARN=arn:aws:elasticloadbalancing:us-west-2:123456789012:listener/app/fraud-detection-alb/1234567890123456/1234567890123456

# Deployment strategy
DEPLOYMENT_STRATEGY=blue_green
HEALTH_CHECK_TIMEOUT=300
MONITORING_DURATION=600

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# CloudWatch configuration
CLOUDWATCH_NAMESPACE=MLPipeline/FraudDetection
CLOUDWATCH_LOG_GROUP=/aws/ecs/fraud-detection

# Prometheus configuration
PROMETHEUS_PORT=9090
PROMETHEUS_SCRAPE_INTERVAL=15s

# Grafana configuration
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin

# Alert thresholds
ALERT_ERROR_RATE_THRESHOLD=0.05
ALERT_LATENCY_THRESHOLD=2000
ALERT_ACCURACY_THRESHOLD=0.80

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API security
API_SECRET_KEY=your-secret-key-here
API_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Encryption
DATA_ENCRYPTION_ENABLED=false
DATA_ENCRYPTION_KEY=your-encryption-key

# =============================================================================
# CI/CD CONFIGURATION
# =============================================================================

# GitHub configuration
GITHUB_REPOSITORY=your-username/ml-cicd-pipeline
GITHUB_TOKEN=your_github_token

# Docker configuration
DOCKER_REGISTRY=your-account.dkr.ecr.us-west-2.amazonaws.com
DOCKER_IMAGE_NAME=fraud-detection-ml
DOCKER_IMAGE_TAG=latest

# Terraform configuration
TERRAFORM_STATE_BUCKET=ml-terraform-state
TERRAFORM_STATE_KEY=ml-infrastructure/terraform.tfstate
TERRAFORM_LOCK_TABLE=terraform-state-lock

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test configuration
TEST_DATA_SIZE=1000
TEST_TIMEOUT_SECONDS=300
PERFORMANCE_TEST_DURATION=60

# Load testing
LOAD_TEST_USERS=10
LOAD_TEST_SPAWN_RATE=2
LOAD_TEST_DURATION=300

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Log file configuration
LOG_FILE_PATH=logs/ml_pipeline.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development mode
DEBUG=false
DEVELOPMENT_MODE=false

# Hot reload
RELOAD=false

# Profiling
PROFILING_ENABLED=false
PROFILING_OUTPUT_PATH=./profiling

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
ENABLE_DATA_DRIFT_DETECTION=true
ENABLE_MODEL_EXPLAINABILITY=true
ENABLE_A_B_TESTING=false
ENABLE_CANARY_DEPLOYMENT=true

# Experimental features
ENABLE_AUTO_SCALING=false
ENABLE_COST_OPTIMIZATION=true
ENABLE_ADVANCED_MONITORING=true