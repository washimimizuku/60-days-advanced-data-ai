# Day 56: Kubernetes for ML & Data Workloads - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# Kubernetes Configuration
KUBECONFIG=/Users/username/.kube/config
KUBERNETES_NAMESPACE=ml-training
CLUSTER_NAME=ml-cluster
CLUSTER_ENDPOINT=https://kubernetes.docker.internal:6443
KUBERNETES_VERSION=1.28.2

# Container Registry Configuration
CONTAINER_REGISTRY=docker.io
REGISTRY_USERNAME=your-docker-username
REGISTRY_PASSWORD=your-docker-password
REGISTRY_EMAIL=your-email@example.com
IMAGE_PULL_POLICY=IfNotPresent

# Default Resource Configuration
DEFAULT_CPU_REQUEST=2
DEFAULT_CPU_LIMIT=4
DEFAULT_MEMORY_REQUEST=4Gi
DEFAULT_MEMORY_LIMIT=8Gi
DEFAULT_GPU_REQUEST=1
DEFAULT_GPU_LIMIT=2
DEFAULT_STORAGE_REQUEST=10Gi

# Storage Configuration
DEFAULT_STORAGE_CLASS=fast-ssd
PERSISTENT_VOLUME_SIZE=50Gi
MODEL_STORAGE_SIZE=20Gi
DATA_STORAGE_SIZE=100Gi
BACKUP_STORAGE_CLASS=standard

# GPU Configuration
GPU_ENABLED=true
GPU_OPERATOR_NAMESPACE=gpu-operator
DEFAULT_GPU_TYPE=nvidia-tesla-v100
GPU_MEMORY_FRACTION=0.8
CUDA_VISIBLE_DEVICES=all

# ML Framework Configuration
TENSORFLOW_VERSION=2.13.0
PYTORCH_VERSION=1.13.1
SKLEARN_VERSION=1.3.2
KUBEFLOW_VERSION=1.7.0

# Training Configuration
MAX_TRAINING_TIME=7200
DEFAULT_BATCH_SIZE=32
DEFAULT_EPOCHS=100
CHECKPOINT_INTERVAL=10
MODEL_SAVE_FORMAT=savedmodel

# Serving Configuration
MODEL_SERVER_PORT=8080
GRPC_SERVER_PORT=8081
HEALTH_CHECK_PORT=8082
METRICS_PORT=9090
DEFAULT_MODEL_REPLICAS=3
MAX_MODEL_REPLICAS=20

# Monitoring Configuration
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3000
GRAFANA_USERNAME=admin
GRAFANA_PASSWORD=admin123
METRICS_RETENTION_DAYS=30
LOG_RETENTION_DAYS=7

# Alerting Configuration
ALERT_MANAGER_URL=http://localhost:9093
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
EMAIL_ALERTS_ENABLED=true
ALERT_EMAIL=alerts@company.com

# Workflow Configuration
ARGO_SERVER_URL=http://localhost:2746
ARGO_NAMESPACE=argo
WORKFLOW_TTL_SECONDS=86400
MAX_WORKFLOW_PARALLELISM=10

# Kubeflow Configuration
KUBEFLOW_NAMESPACE=kubeflow
KUBEFLOW_DASHBOARD_URL=http://localhost:8080
KATIB_NAMESPACE=kubeflow
KFSERVING_NAMESPACE=kubeflow

# Seldon Configuration
SELDON_NAMESPACE=seldon-system
SELDON_GATEWAY_URL=http://localhost:8003
MODEL_EXPLAINER_ENABLED=true

# Spark Configuration
SPARK_OPERATOR_NAMESPACE=spark-operator
SPARK_VERSION=3.5.0
SPARK_DRIVER_MEMORY=4g
SPARK_EXECUTOR_MEMORY=8g
SPARK_EXECUTOR_INSTANCES=3

# Data Configuration
DATA_BUCKET=ml-training-data
MODEL_REGISTRY_URL=http://localhost:5000
FEATURE_STORE_URL=http://localhost:6379
METADATA_STORE_URL=mysql://localhost:3306/mlmd

# Database Configuration
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=mlflow
MYSQL_USERNAME=mlflow
MYSQL_PASSWORD=mlflow123

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=kubeflow
POSTGRES_USERNAME=kubeflow
POSTGRES_PASSWORD=kubeflow123

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DATABASE=0

# MinIO Configuration (S3-compatible storage)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=ml-artifacts
MINIO_SECURE=false

# Security Configuration
ENABLE_RBAC=true
ENABLE_NETWORK_POLICIES=true
ENABLE_POD_SECURITY_POLICIES=true
ENABLE_ADMISSION_CONTROLLERS=true

# TLS Configuration
TLS_ENABLED=false
TLS_CERT_PATH=/etc/ssl/certs/tls.crt
TLS_KEY_PATH=/etc/ssl/private/tls.key
CA_CERT_PATH=/etc/ssl/certs/ca.crt

# Secrets Configuration
SECRET_STORE_TYPE=kubernetes
VAULT_URL=http://localhost:8200
VAULT_TOKEN=your-vault-token
VAULT_PATH=secret/ml-platform

# Networking Configuration
CLUSTER_DOMAIN=cluster.local
SERVICE_MESH_ENABLED=false
ISTIO_NAMESPACE=istio-system
INGRESS_CLASS=nginx
LOAD_BALANCER_TYPE=NodePort

# Scaling Configuration
HPA_ENABLED=true
VPA_ENABLED=false
CLUSTER_AUTOSCALER_ENABLED=true
MIN_NODES=1
MAX_NODES=10

# Cost Management
COST_TRACKING_ENABLED=true
BUDGET_ALERT_THRESHOLD=80
SPOT_INSTANCES_ENABLED=true
PREEMPTIBLE_INSTANCES_RATIO=0.5

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_CLASS=glacier

# Development Configuration
DEBUG_MODE=false
LOG_LEVEL=INFO
ENABLE_PROFILING=false
ENABLE_TRACING=true

# CI/CD Configuration
GITHUB_TOKEN=your-github-token
DOCKER_BUILD_ARGS=--no-cache
IMAGE_SCAN_ENABLED=true
VULNERABILITY_THRESHOLD=HIGH

# Experiment Tracking
MLFLOW_TRACKING_URI=http://localhost:5000
WANDB_API_KEY=your-wandb-api-key
TENSORBOARD_LOG_DIR=/logs/tensorboard
EXPERIMENT_RETENTION_DAYS=90

# Model Registry
MODEL_REGISTRY_TYPE=mlflow
MODEL_STAGING_ENABLED=true
MODEL_APPROVAL_REQUIRED=true
MODEL_VERSION_RETENTION=10

# Feature Store
FEATURE_STORE_TYPE=feast
FEATURE_STORE_ONLINE_URL=redis://localhost:6379
FEATURE_STORE_OFFLINE_URL=postgresql://localhost:5432/feast
FEATURE_TTL_DAYS=30

# Data Pipeline Configuration
AIRFLOW_ENABLED=false
AIRFLOW_NAMESPACE=airflow
AIRFLOW_WEBSERVER_URL=http://localhost:8080
DAG_SCHEDULE_INTERVAL="@daily"

# Jupyter Configuration
JUPYTER_ENABLED=true
JUPYTER_NAMESPACE=kubeflow
JUPYTER_IMAGE=jupyter/tensorflow-notebook:latest
JUPYTER_CPU_LIMIT=2
JUPYTER_MEMORY_LIMIT=4Gi

# Resource Quotas
NAMESPACE_CPU_QUOTA=100
NAMESPACE_MEMORY_QUOTA=200Gi
NAMESPACE_GPU_QUOTA=20
NAMESPACE_STORAGE_QUOTA=1Ti

# Node Configuration
NODE_SELECTOR_ML_TRAINING=workload-type=ml-training
NODE_SELECTOR_ML_SERVING=workload-type=ml-serving
NODE_SELECTOR_GPU=accelerator=nvidia-gpu
TOLERATION_GPU_KEY=nvidia.com/gpu

# Environment Labels
ENVIRONMENT=development
PROJECT_NAME=ml-platform
TEAM=data-science
COST_CENTER=engineering
OWNER=ml-team

# Compliance and Governance
DATA_CLASSIFICATION=internal
COMPLIANCE_FRAMEWORK=gdpr
AUDIT_LOGGING_ENABLED=true
DATA_RETENTION_POLICY=2years

# Performance Configuration
RESOURCE_MONITORING_INTERVAL=30s
METRICS_COLLECTION_INTERVAL=15s
LOG_SAMPLING_RATE=0.1
TRACE_SAMPLING_RATE=0.01

# Disaster Recovery
DR_ENABLED=false
DR_REGION=us-east-1
RTO_MINUTES=60
RPO_MINUTES=15
CROSS_REGION_BACKUP=false