# Day 53: RAG Evaluation with RAGAS - Environment Configuration Template
# Copy this file to .env and update with your actual values

# =============================================================================
# LLM Configuration for RAGAS
# =============================================================================

# OpenAI Configuration (Primary)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002
OPENAI_MAX_TOKENS=150
OPENAI_TEMPERATURE=0.0

# Azure OpenAI Configuration
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your_azure_openai_key
AZURE_OPENAI_API_VERSION=2023-05-15
AZURE_OPENAI_DEPLOYMENT_NAME=your-deployment-name
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=your-embedding-deployment

# Alternative LLM Providers
ANTHROPIC_API_KEY=your_anthropic_api_key_here
COHERE_API_KEY=your_cohere_api_key_here
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# Local Model Configuration
LOCAL_LLM_MODEL_PATH=./models/llama-2-7b-chat
LOCAL_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
USE_LOCAL_MODELS=false

# =============================================================================
# RAGAS Evaluation Configuration
# =============================================================================

# Core Metrics Configuration
ENABLE_FAITHFULNESS=true
ENABLE_ANSWER_RELEVANCY=true
ENABLE_CONTEXT_PRECISION=true
ENABLE_CONTEXT_RECALL=true
ENABLE_CONTEXT_RELEVANCY=true

# Evaluation Parameters
EVALUATION_BATCH_SIZE=10
MAX_CONCURRENT_EVALUATIONS=5
EVALUATION_TIMEOUT_SECONDS=30
RETRY_ATTEMPTS=3
RETRY_DELAY_SECONDS=2

# Similarity Thresholds
SIMILARITY_THRESHOLD=0.7
CONTEXT_RELEVANCE_THRESHOLD=0.6
CLAIM_SUPPORT_THRESHOLD=0.4

# =============================================================================
# Quality Monitoring Thresholds
# =============================================================================

# Performance Thresholds
FAITHFULNESS_THRESHOLD=0.7
ANSWER_RELEVANCY_THRESHOLD=0.8
CONTEXT_PRECISION_THRESHOLD=0.6
CONTEXT_RECALL_THRESHOLD=0.7
OVERALL_SCORE_THRESHOLD=0.7

# Response Time Thresholds
RESPONSE_TIME_THRESHOLD=2.0
EVALUATION_TIME_THRESHOLD=5.0
SLOW_RESPONSE_THRESHOLD=3.0

# Alert Configuration
ENABLE_QUALITY_ALERTS=true
ALERT_COOLDOWN_MINUTES=15
MAX_ALERTS_PER_HOUR=10

# =============================================================================
# Statistical Testing Configuration
# =============================================================================

# A/B Testing Parameters
AB_TEST_ALPHA=0.05
AB_TEST_POWER=0.8
AB_TEST_MIN_SAMPLE_SIZE=30
AB_TEST_MAX_DURATION_DAYS=14

# Effect Size Thresholds
SMALL_EFFECT_SIZE=0.2
MEDIUM_EFFECT_SIZE=0.5
LARGE_EFFECT_SIZE=0.8

# Confidence Intervals
CONFIDENCE_LEVEL=0.95
BOOTSTRAP_SAMPLES=1000

# =============================================================================
# Database Configuration
# =============================================================================

# Primary Database (for evaluation results)
DATABASE_URL=sqlite:///rag_evaluation.db
# DATABASE_URL=postgresql://user:password@localhost:5432/rag_evaluation
# DATABASE_URL=mysql://user:password@localhost:3306/rag_evaluation

# Redis Configuration (for caching and real-time data)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_TTL_SECONDS=3600
ENABLE_REDIS_CACHING=true

# Cache Configuration
CACHE_EVALUATION_RESULTS=true
CACHE_EMBEDDINGS=true
CACHE_LLM_RESPONSES=true
CACHE_SIZE_LIMIT_MB=1024

# =============================================================================
# Monitoring and Alerting
# =============================================================================

# Dashboard Configuration
ENABLE_MONITORING_DASHBOARD=true
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=8501
DASHBOARD_TITLE=RAG Evaluation Dashboard

# Metrics Collection
ENABLE_PROMETHEUS_METRICS=true
PROMETHEUS_PORT=9090
METRICS_COLLECTION_INTERVAL=60

# Alerting Webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
TEAMS_WEBHOOK_URL=https://your-org.webhook.office.com/webhookb2/YOUR-WEBHOOK
EMAIL_SMTP_SERVER=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your-email@gmail.com
EMAIL_PASSWORD=your-app-password

# Alert Severity Levels
CRITICAL_ALERT_THRESHOLD=0.5
HIGH_ALERT_THRESHOLD=0.6
MEDIUM_ALERT_THRESHOLD=0.7
LOW_ALERT_THRESHOLD=0.8

# =============================================================================
# Logging Configuration
# =============================================================================

# Log Levels and Formats
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_STRUCTURED_LOGGING=true
LOG_FILE_PATH=./logs/rag_evaluation.log

# Log Rotation
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5
LOG_ROTATION_INTERVAL=daily

# Debug Configuration
ENABLE_DEBUG_MODE=false
DEBUG_SAVE_INTERMEDIATE_RESULTS=false
DEBUG_LOG_API_CALLS=false

# =============================================================================
# API Configuration
# =============================================================================

# FastAPI Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_TIMEOUT=30
API_TITLE=RAG Evaluation API
API_VERSION=1.0.0

# Authentication
ENABLE_API_AUTHENTICATION=false
API_KEY=your_secure_api_key_here
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_EXPIRATION_HOURS=24

# CORS Configuration
ENABLE_CORS=true
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://localhost:8501"]
CORS_METHODS=["GET", "POST", "PUT", "DELETE"]

# Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# =============================================================================
# Data Processing Configuration
# =============================================================================

# Dataset Management
EVALUATION_DATASET_PATH=./data/evaluation_datasets
SYNTHETIC_DATASET_SIZE=1000
DATASET_SPLIT_RATIOS=0.7,0.2,0.1

# Data Validation
VALIDATE_INPUT_DATA=true
MAX_QUESTION_LENGTH=500
MAX_ANSWER_LENGTH=2000
MAX_CONTEXT_LENGTH=1000
MAX_CONTEXTS_PER_RESPONSE=10

# Data Preprocessing
ENABLE_TEXT_CLEANING=true
REMOVE_SPECIAL_CHARACTERS=false
NORMALIZE_WHITESPACE=true
LOWERCASE_TEXT=false

# =============================================================================
# Performance Configuration
# =============================================================================

# Concurrency Settings
MAX_CONCURRENT_REQUESTS=10
ASYNC_TIMEOUT_SECONDS=30
THREAD_POOL_SIZE=8

# Memory Management
MAX_MEMORY_USAGE_MB=4096
ENABLE_MEMORY_MONITORING=true
MEMORY_CHECK_INTERVAL=300

# Batch Processing
DEFAULT_BATCH_SIZE=50
MAX_BATCH_SIZE=200
BATCH_TIMEOUT_SECONDS=60

# =============================================================================
# Evaluation Scheduling
# =============================================================================

# Automated Evaluation
ENABLE_SCHEDULED_EVALUATION=false
EVALUATION_SCHEDULE_CRON=0 */6 * * *
EVALUATION_WINDOW_HOURS=24

# Continuous Monitoring
ENABLE_CONTINUOUS_MONITORING=true
MONITORING_INTERVAL_MINUTES=5
BASELINE_UPDATE_INTERVAL_DAYS=7

# Report Generation
ENABLE_DAILY_REPORTS=true
REPORT_GENERATION_TIME=09:00
REPORT_EMAIL_RECIPIENTS=admin@yourcompany.com,team@yourcompany.com

# =============================================================================
# Custom Metrics Configuration
# =============================================================================

# Domain-Specific Metrics
ENABLE_CUSTOM_METRICS=false
DOMAIN_KEYWORDS_FILE=./config/domain_keywords.json
TEMPORAL_RELEVANCE_WEIGHT=0.1
DOMAIN_SPECIFICITY_WEIGHT=0.2

# Response Quality Metrics
ENABLE_COMPLETENESS_METRIC=true
ENABLE_CONCISENESS_METRIC=true
ENABLE_DIVERSITY_METRIC=true
ENABLE_COHERENCE_METRIC=false

# Bias and Safety Metrics
ENABLE_BIAS_DETECTION=false
ENABLE_TOXICITY_DETECTION=false
BIAS_DETECTION_MODEL=unitary/toxic-bert
TOXICITY_THRESHOLD=0.7

# =============================================================================
# Integration Configuration
# =============================================================================

# External Services
WANDB_PROJECT=rag-evaluation
WANDB_API_KEY=your_wandb_api_key
ENABLE_WANDB_LOGGING=false

# MLflow Integration
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=rag-evaluation
ENABLE_MLFLOW_LOGGING=false

# Elasticsearch Integration
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX=rag-evaluations
ENABLE_ELASTICSEARCH_LOGGING=false

# =============================================================================
# Security Configuration
# =============================================================================

# Data Privacy
ANONYMIZE_USER_DATA=true
HASH_SENSITIVE_FIELDS=true
DATA_RETENTION_DAYS=90

# Encryption
ENCRYPT_STORED_DATA=false
ENCRYPTION_KEY=your_encryption_key_here
USE_TLS_FOR_API=false

# Access Control
ENABLE_RBAC=false
ADMIN_USERS=admin@yourcompany.com
READONLY_USERS=readonly@yourcompany.com

# =============================================================================
# Development and Testing
# =============================================================================

# Development Mode
DEVELOPMENT_MODE=true
ENABLE_HOT_RELOAD=true
MOCK_EXTERNAL_SERVICES=false

# Testing Configuration
TEST_DATA_PATH=./test_data
ENABLE_TEST_MODE=false
TEST_EVALUATION_SIZE=10
SKIP_SLOW_TESTS=false

# Profiling and Debugging
ENABLE_PROFILING=false
PROFILE_OUTPUT_DIR=./profiles
ENABLE_MEMORY_PROFILING=false
ENABLE_CPU_PROFILING=false

# =============================================================================
# Backup and Recovery
# =============================================================================

# Backup Configuration
ENABLE_AUTO_BACKUP=false
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# Recovery Settings
ENABLE_AUTO_RECOVERY=false
RECOVERY_TIMEOUT_MINUTES=10
MAX_RECOVERY_ATTEMPTS=3

# Data Export
EXPORT_FORMAT=json
ENABLE_SCHEDULED_EXPORTS=false
EXPORT_SCHEDULE_CRON=0 2 * * 0