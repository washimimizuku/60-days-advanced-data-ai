# Day 52: Advanced RAG - Environment Configuration Template
# Copy this file to .env and update with your actual values

# =============================================================================
# Vector Database Configuration
# =============================================================================

# ChromaDB Settings
CHROMA_HOST=localhost
CHROMA_PORT=8000
CHROMA_COLLECTION_NAME=advanced_rag_collection
CHROMA_PERSIST_DIRECTORY=./chroma_db

# Pinecone Settings (Cloud Vector Database)
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=your_pinecone_environment
PINECONE_INDEX_NAME=advanced-rag-index
PINECONE_DIMENSION=384

# Weaviate Settings
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=your_weaviate_api_key

# =============================================================================
# Embedding Models Configuration
# =============================================================================

# Primary Embedding Model
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32

# Cross-Encoder for Re-ranking
CROSS_ENCODER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANKER_BATCH_SIZE=16

# Alternative Models (uncomment to use)
# EMBEDDING_MODEL=sentence-transformers/all-mpnet-base-v2
# EMBEDDING_DIMENSION=768
# CROSS_ENCODER_MODEL=cross-encoder/ms-marco-electra-base

# =============================================================================
# Caching Configuration
# =============================================================================

# Redis Cache Settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# Local Cache Settings
QUERY_CACHE_SIZE=500
EMBEDDING_CACHE_SIZE=1000
RESULT_CACHE_SIZE=200
CACHE_TTL_SECONDS=3600

# =============================================================================
# Search and Retrieval Configuration
# =============================================================================

# Hybrid Search Parameters
DEFAULT_TOP_K=5
DENSE_RETRIEVAL_K=20
SPARSE_RETRIEVAL_K=20
RRF_K_PARAMETER=60

# BM25 Parameters
BM25_K1=1.5
BM25_B=0.75

# Query Expansion
MAX_SYNONYMS_PER_WORD=2
MAX_ALTERNATIVE_QUERIES=2
ENABLE_QUERY_EXPANSION=true

# Re-ranking
ENABLE_RERANKING=true
RERANK_TOP_K=10
RERANK_FINAL_K=5

# =============================================================================
# Performance and Scaling
# =============================================================================

# Async Processing
MAX_CONCURRENT_REQUESTS=10
ASYNC_TIMEOUT_SECONDS=30
ENABLE_ASYNC_PROCESSING=true

# Batch Processing
BATCH_SIZE=32
MAX_BATCH_SIZE=128
BATCH_TIMEOUT_MS=100

# Memory Management
MAX_MEMORY_MB=4096
EMBEDDING_MEMORY_LIMIT_MB=2048
ENABLE_MEMORY_MONITORING=true

# =============================================================================
# Monitoring and Logging
# =============================================================================

# Metrics Collection
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_STRUCTURED_LOGGING=true

# Performance Tracking
TRACK_LATENCY=true
TRACK_CACHE_HITS=true
TRACK_QUALITY_METRICS=true

# =============================================================================
# API Configuration
# =============================================================================

# FastAPI Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_TIMEOUT=30

# CORS Settings
ENABLE_CORS=true
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# =============================================================================
# Security Configuration
# =============================================================================

# API Security
API_KEY=your_secure_api_key_here
ENABLE_API_KEY_AUTH=false
JWT_SECRET_KEY=your_jwt_secret_key_here

# HTTPS Settings
ENABLE_HTTPS=false
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# =============================================================================
# Development and Testing
# =============================================================================

# Development Mode
DEBUG_MODE=false
ENABLE_DEBUG_LOGGING=false
MOCK_EXTERNAL_SERVICES=false

# Testing Configuration
TEST_DATA_PATH=./test_data
ENABLE_TEST_MODE=false
TEST_CACHE_SIZE=100

# Profiling
ENABLE_PROFILING=false
PROFILE_OUTPUT_DIR=./profiles

# =============================================================================
# External Services
# =============================================================================

# OpenAI (for advanced features)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=150

# Hugging Face
HUGGINGFACE_API_KEY=your_huggingface_api_key_here
HUGGINGFACE_CACHE_DIR=./hf_cache

# =============================================================================
# Data Sources
# =============================================================================

# Document Storage
DOCUMENT_STORAGE_PATH=./documents
PROCESSED_DATA_PATH=./processed_data
BACKUP_PATH=./backups

# Data Processing
CHUNK_SIZE=512
CHUNK_OVERLAP=50
MAX_DOCUMENT_SIZE_MB=10

# =============================================================================
# Quality and Evaluation
# =============================================================================

# Evaluation Metrics
ENABLE_EVALUATION=true
EVALUATION_DATASET_PATH=./evaluation_data
GROUND_TRUTH_PATH=./ground_truth.json

# Quality Thresholds
MIN_RELEVANCE_SCORE=0.5
MIN_PRECISION_AT_1=0.7
MIN_RECALL_AT_5=0.8

# A/B Testing
ENABLE_AB_TESTING=false
AB_TEST_SPLIT_RATIO=0.5
AB_TEST_DURATION_DAYS=7

# =============================================================================
# Infrastructure
# =============================================================================

# Docker Configuration
DOCKER_REGISTRY=your_registry_url
DOCKER_TAG=latest
CONTAINER_MEMORY_LIMIT=4g

# Kubernetes
K8S_NAMESPACE=advanced-rag
K8S_REPLICAS=3
K8S_CPU_REQUEST=500m
K8S_MEMORY_REQUEST=2Gi

# Health Checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# Backup and Recovery
# =============================================================================

# Backup Configuration
ENABLE_AUTO_BACKUP=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# Recovery Settings
ENABLE_AUTO_RECOVERY=true
RECOVERY_TIMEOUT_MINUTES=10
MAX_RECOVERY_ATTEMPTS=3