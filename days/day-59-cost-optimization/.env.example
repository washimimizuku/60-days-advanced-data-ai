# Day 59: Cost Optimization - Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# AWS Configuration
# =============================================================================
AWS_REGION=us-west-2
AWS_PROFILE=default
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_ACCOUNT_ID=123456789012

# Cost Management Configuration
COST_EXPLORER_ENABLED=true
BILLING_BUCKET=your-company-cost-reports
CUR_REPORT_NAME=ml-cost-optimization-report
CUR_S3_PREFIX=cost-reports/

# =============================================================================
# Cost Optimization Settings
# =============================================================================

# Budget and Thresholds
MONTHLY_BUDGET_LIMIT=10000.00
DAILY_COST_ALERT_THRESHOLD=500.00
WEEKLY_COST_ALERT_THRESHOLD=2000.00
ANOMALY_DETECTION_THRESHOLD=2.0
COST_SPIKE_THRESHOLD=1.5

# Optimization Targets
RIGHT_SIZING_ENABLED=true
SPOT_INSTANCE_OPTIMIZATION=true
AUTOMATED_SCHEDULING=true
STORAGE_OPTIMIZATION=true
RESERVED_INSTANCE_RECOMMENDATIONS=true

# Savings Targets
TARGET_COST_REDUCTION_PERCENTAGE=30
MIN_SAVINGS_THRESHOLD=100.00
ROI_THRESHOLD_MONTHS=6

# =============================================================================
# Resource Right-Sizing Configuration
# =============================================================================

# Utilization Thresholds
CPU_UNDERUTILIZATION_THRESHOLD=20.0
MEMORY_UNDERUTILIZATION_THRESHOLD=30.0
CPU_OVERUTILIZATION_THRESHOLD=80.0
MEMORY_OVERUTILIZATION_THRESHOLD=85.0

# Analysis Period
UTILIZATION_ANALYSIS_DAYS=14
MINIMUM_RUNTIME_HOURS=168
CONFIDENCE_THRESHOLD=0.7

# Instance Type Preferences
PREFERRED_INSTANCE_FAMILIES=c5,m5,r5,t3
GPU_INSTANCE_FAMILIES=p3,p4,g4dn,inf1
BURSTABLE_INSTANCE_FAMILIES=t3,t4g

# =============================================================================
# Spot Instance Configuration
# =============================================================================

# Spot Instance Settings
SPOT_INSTANCE_ENABLED=true
MAX_SPOT_PRICE_PERCENTAGE=70
SPOT_INTERRUPTION_TOLERANCE=high
DIVERSIFICATION_STRATEGY=true

# Workload Suitability
FAULT_TOLERANT_WORKLOADS=training,batch-processing,development
SPOT_ELIGIBLE_ENVIRONMENTS=dev,staging,training
CHECKPOINTING_REQUIRED=true

# Fleet Configuration
SPOT_FLEET_TARGET_CAPACITY=4
SPOT_FLEET_ALLOCATION_STRATEGY=diversified
ON_DEMAND_PERCENTAGE=20

# =============================================================================
# Automated Scheduling Configuration
# =============================================================================

# Development Environment Scheduling
DEV_ENVIRONMENT_SHUTDOWN=true
DEV_SHUTDOWN_SCHEDULE=cron(0 19 * * MON-FRI)
DEV_STARTUP_SCHEDULE=cron(0 8 * * MON-FRI)
DEV_WEEKEND_SHUTDOWN=true

# Training Job Scheduling
TRAINING_SCHEDULE_ENABLED=true
TRAINING_OFF_PEAK_HOURS=22-06
TRAINING_WEEKEND_DISCOUNT=true
TRAINING_QUEUE_OPTIMIZATION=true

# Staging Environment Scheduling
STAGING_SCHEDULE_ENABLED=true
STAGING_SHUTDOWN_SCHEDULE=cron(0 20 * * MON-FRI)
STAGING_STARTUP_SCHEDULE=cron(0 7 * * MON-FRI)

# =============================================================================
# Cost Allocation and Tagging
# =============================================================================

# Required Tags
REQUIRED_TAGS=CostCenter,Team,Environment,WorkloadType,Project
COST_CENTER_VALUES=ml-platform,data-engineering,research,infrastructure
TEAM_VALUES=fraud-detection,recommendations,nlp,computer-vision,platform
ENVIRONMENT_VALUES=dev,staging,prod,sandbox
WORKLOAD_TYPE_VALUES=training,serving,data-pipeline,development,research

# Tag Enforcement
TAG_COMPLIANCE_ENABLED=true
UNTAGGED_RESOURCE_ALERTS=true
TAG_VALIDATION_ENABLED=true
AUTO_TAGGING_ENABLED=false

# Cost Allocation Rules
PRIMARY_ALLOCATION_DIMENSION=Team
SECONDARY_ALLOCATION_DIMENSION=Environment
TERTIARY_ALLOCATION_DIMENSION=WorkloadType
UNALLOCATED_COST_HANDLING=proportional

# =============================================================================
# Storage Optimization Configuration
# =============================================================================

# S3 Lifecycle Policies
S3_LIFECYCLE_ENABLED=true
S3_IA_TRANSITION_DAYS=30
S3_GLACIER_TRANSITION_DAYS=90
S3_DEEP_ARCHIVE_TRANSITION_DAYS=365
S3_EXPIRATION_DAYS=2555

# EBS Optimization
EBS_SNAPSHOT_CLEANUP=true
EBS_SNAPSHOT_RETENTION_DAYS=30
EBS_UNUSED_VOLUME_DETECTION=true
EBS_GP3_MIGRATION=true

# Data Compression
DATA_COMPRESSION_ENABLED=true
COMPRESSION_ALGORITHMS=gzip,lz4,snappy
COMPRESSION_THRESHOLD_GB=1.0

# =============================================================================
# Monitoring and Alerting Configuration
# =============================================================================

# Notification Channels
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#cost-optimization
EMAIL_NOTIFICATIONS=finops@company.com,ml-team@company.com
SMS_NOTIFICATIONS=+1234567890

# Alert Frequency
DAILY_COST_REPORTS=true
WEEKLY_OPTIMIZATION_REPORTS=true
MONTHLY_EXECUTIVE_REPORTS=true
REAL_TIME_ANOMALY_ALERTS=true

# Dashboard Configuration
GRAFANA_ENABLED=true
GRAFANA_URL=http://localhost:3000
PROMETHEUS_ENABLED=true
CUSTOM_METRICS_ENABLED=true

# =============================================================================
# FinOps Governance Configuration
# =============================================================================

# Approval Workflows
COST_APPROVAL_ENABLED=true
APPROVAL_THRESHOLD_MONTHLY=1000.00
APPROVAL_THRESHOLD_ANNUAL=10000.00
AUTO_APPROVAL_LIMIT=500.00

# Budget Controls
BUDGET_ENFORCEMENT=soft
BUDGET_ALERT_THRESHOLDS=50,80,95,100
BUDGET_ACTIONS=alert,restrict,terminate
EMERGENCY_BUDGET_OVERRIDE=true

# Cost Center Management
COST_CENTER_BUDGETS=true
TEAM_BUDGET_ALLOCATION=true
PROJECT_BUDGET_TRACKING=true
CHARGEBACK_ENABLED=false

# =============================================================================
# Reserved Instance and Savings Plans
# =============================================================================

# Reserved Instance Recommendations
RI_RECOMMENDATIONS_ENABLED=true
RI_LOOKBACK_PERIOD_DAYS=30
RI_TERM_PREFERENCES=1year,3year
RI_PAYMENT_OPTIONS=no-upfront,partial-upfront

# Savings Plans
SAVINGS_PLANS_ENABLED=true
COMPUTE_SAVINGS_PLANS=true
EC2_INSTANCE_SAVINGS_PLANS=true
SAGEMAKER_SAVINGS_PLANS=true

# Coverage Targets
RI_COVERAGE_TARGET=80
SAVINGS_PLAN_COVERAGE_TARGET=70
ON_DEMAND_PERCENTAGE_TARGET=20

# =============================================================================
# Multi-Cloud Configuration
# =============================================================================

# Azure Configuration
AZURE_SUBSCRIPTION_ID=your-azure-subscription-id
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret
AZURE_COST_MANAGEMENT_ENABLED=false

# Google Cloud Configuration
GOOGLE_PROJECT_ID=your-gcp-project-id
GOOGLE_BILLING_ACCOUNT_ID=your-billing-account-id
GOOGLE_CREDENTIALS_FILE=path/to/service-account.json
GCP_COST_MANAGEMENT_ENABLED=false

# Multi-Cloud Optimization
CROSS_CLOUD_OPTIMIZATION=false
CLOUD_ARBITRAGE_ENABLED=false
WORKLOAD_PORTABILITY_ANALYSIS=false

# =============================================================================
# Machine Learning Cost Optimization
# =============================================================================

# ML-Specific Settings
ML_TRAINING_OPTIMIZATION=true
ML_INFERENCE_OPTIMIZATION=true
MODEL_SERVING_OPTIMIZATION=true
EXPERIMENT_COST_TRACKING=true

# Training Cost Optimization
TRAINING_SPOT_PERCENTAGE=80
TRAINING_PREEMPTIBLE_ENABLED=true
DISTRIBUTED_TRAINING_OPTIMIZATION=true
HYPERPARAMETER_TUNING_BUDGET=500.00

# Inference Cost Optimization
AUTO_SCALING_ENABLED=true
SERVERLESS_INFERENCE=true
BATCH_INFERENCE_OPTIMIZATION=true
MODEL_COMPRESSION_ENABLED=true

# Data Pipeline Optimization
PIPELINE_SCHEDULING_OPTIMIZATION=true
DATA_PROCESSING_SPOT_USAGE=true
PIPELINE_RESOURCE_RIGHT_SIZING=true

# =============================================================================
# Reporting and Analytics Configuration
# =============================================================================

# Report Generation
AUTOMATED_REPORTING=true
REPORT_FORMATS=pdf,excel,json
REPORT_DISTRIBUTION=email,slack,s3
EXECUTIVE_DASHBOARD=true

# Cost Analytics
COST_FORECASTING_ENABLED=true
TREND_ANALYSIS_ENABLED=true
ANOMALY_DETECTION_ML=true
PREDICTIVE_SCALING=false

# Business Intelligence
BI_INTEGRATION_ENABLED=false
TABLEAU_INTEGRATION=false
POWER_BI_INTEGRATION=false
CUSTOM_ANALYTICS_API=true

# =============================================================================
# Security and Compliance Configuration
# =============================================================================

# Access Control
RBAC_ENABLED=true
COST_DATA_ENCRYPTION=true
AUDIT_LOGGING_ENABLED=true
API_RATE_LIMITING=true

# Compliance
SOX_COMPLIANCE=false
GDPR_COMPLIANCE=true
HIPAA_COMPLIANCE=false
FINANCIAL_CONTROLS=true

# Data Retention
COST_DATA_RETENTION_MONTHS=36
AUDIT_LOG_RETENTION_MONTHS=84
REPORT_RETENTION_MONTHS=24

# =============================================================================
# Development and Testing Configuration
# =============================================================================

# Development Settings
DEBUG_MODE=false
LOG_LEVEL=INFO
MOCK_DATA_ENABLED=false
TESTING_MODE=false

# Performance Settings
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
BATCH_SIZE=1000
PARALLEL_PROCESSING=true

# API Configuration
API_RATE_LIMIT=1000
API_TIMEOUT_SECONDS=30
RETRY_ATTEMPTS=3
CIRCUIT_BREAKER_ENABLED=true