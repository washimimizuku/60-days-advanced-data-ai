# Day 57: Terraform & Infrastructure as Code - Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# AWS Configuration
# =============================================================================
AWS_REGION=us-west-2
AWS_PROFILE=default
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# Terraform State Management
TF_STATE_BUCKET=your-terraform-state-bucket
TF_STATE_DYNAMODB_TABLE=terraform-state-locks
TF_STATE_KEY_PREFIX=ml-platform

# =============================================================================
# Azure Configuration (Optional for Multi-Cloud)
# =============================================================================
AZURE_SUBSCRIPTION_ID=your-azure-subscription-id
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret
AZURE_RESOURCE_GROUP=terraform-state-rg
AZURE_STORAGE_ACCOUNT=terraformstatestorage

# =============================================================================
# Google Cloud Configuration (Optional for Multi-Cloud)
# =============================================================================
GOOGLE_PROJECT_ID=your-gcp-project-id
GOOGLE_REGION=us-west1
GOOGLE_ZONE=us-west1-a
GOOGLE_CREDENTIALS_FILE=path/to/service-account.json
GCS_STATE_BUCKET=your-gcs-terraform-state-bucket

# =============================================================================
# Project Configuration
# =============================================================================
PROJECT_NAME=ml-platform
ENVIRONMENT=dev
OWNER=your-name
TEAM=data-engineering

# =============================================================================
# Infrastructure Configuration
# =============================================================================

# Networking
VPC_CIDR=10.0.0.0/16
AVAILABILITY_ZONES=us-west-2a,us-west-2b,us-west-2c

# Kubernetes
KUBERNETES_VERSION=1.27
EKS_CLUSTER_NAME=ml-platform-dev-eks

# Database
POSTGRES_VERSION=15.3
DB_INSTANCE_CLASS=db.t3.medium
DB_ALLOCATED_STORAGE=100
DB_MAX_ALLOCATED_STORAGE=1000

# Compute Resources
TRAINING_INSTANCE_TYPES=p3.2xlarge,p3.8xlarge
INFERENCE_INSTANCE_TYPES=c5.xlarge,c5.2xlarge
MAX_TRAINING_INSTANCES=10
MAX_INFERENCE_INSTANCES=20

# Auto Scaling
MIN_SERVING_INSTANCES=2
MAX_SERVING_INSTANCES=20
DESIRED_SERVING_INSTANCES=3

# Cost Optimization
SPOT_INSTANCE_PERCENTAGE=70
SPOT_MAX_PRICE=1.00
DATA_RETENTION_DAYS=90

# =============================================================================
# Security Configuration
# =============================================================================

# Encryption
KMS_KEY_DELETION_WINDOW=30
ENABLE_ENCRYPTION_AT_REST=true
ENABLE_ENCRYPTION_IN_TRANSIT=true

# Access Control
ENABLE_MFA=true
ENABLE_CLOUDTRAIL=true
ENABLE_VPC_FLOW_LOGS=true

# Network Security
ALLOWED_CIDR_BLOCKS=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
SSH_KEY_NAME=ml-platform-keypair

# =============================================================================
# Monitoring and Observability
# =============================================================================

# CloudWatch
ENABLE_DETAILED_MONITORING=true
LOG_RETENTION_DAYS=30
ENABLE_CONTAINER_INSIGHTS=true

# Prometheus and Grafana
ENABLE_PROMETHEUS=true
ENABLE_GRAFANA=true
ENABLE_ALERTMANAGER=true

# Notification
SNS_TOPIC_ARN=arn:aws:sns:us-west-2:123456789012:ml-platform-alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# Backup and Disaster Recovery
# =============================================================================

# RDS Backups
BACKUP_RETENTION_PERIOD=7
BACKUP_WINDOW=03:00-04:00
MAINTENANCE_WINDOW=sun:04:00-sun:05:00

# S3 Versioning and Lifecycle
ENABLE_S3_VERSIONING=true
S3_LIFECYCLE_TRANSITION_DAYS=30
S3_GLACIER_TRANSITION_DAYS=90
S3_DEEP_ARCHIVE_TRANSITION_DAYS=365

# Cross-Region Replication
ENABLE_CROSS_REGION_REPLICATION=false
REPLICATION_REGION=us-east-1

# =============================================================================
# Development and Testing
# =============================================================================

# Environment-Specific Settings
ENABLE_DELETION_PROTECTION=false
ENABLE_MULTI_AZ=false
ENABLE_PERFORMANCE_INSIGHTS=false

# Testing
RUN_COMPLIANCE_TESTS=true
RUN_SECURITY_SCANS=true
TERRAFORM_PLAN_OUTPUT=terraform-plan.json

# =============================================================================
# CI/CD Configuration
# =============================================================================

# GitHub Actions / GitLab CI
CI_ENVIRONMENT=github-actions
TERRAFORM_VERSION=1.6.0
CHECKOV_VERSION=3.1.34

# Approval Requirements
REQUIRE_PLAN_APPROVAL=true
REQUIRE_APPLY_APPROVAL=true
AUTO_APPLY_ON_MERGE=false

# =============================================================================
# Cost Management
# =============================================================================

# Budget Alerts
MONTHLY_BUDGET_LIMIT=1000
BUDGET_ALERT_THRESHOLD=80
COST_ANOMALY_DETECTION=true

# Resource Tagging
COST_CENTER=data-engineering
BILLING_CODE=ML-INFRA-001
DEPARTMENT=engineering

# =============================================================================
# Multi-Cloud Specific Settings
# =============================================================================

# Cross-Cloud Networking
ENABLE_VPN_GATEWAY=false
VPN_SHARED_SECRET=your-vpn-shared-secret

# Data Replication
ENABLE_CROSS_CLOUD_REPLICATION=false
REPLICATION_SCHEDULE=0 2 * * *

# =============================================================================
# Feature Flags
# =============================================================================

# Infrastructure Components
DEPLOY_EKS_CLUSTER=true
DEPLOY_RDS_DATABASE=true
DEPLOY_ELASTICACHE=false
DEPLOY_ELASTICSEARCH=false

# ML-Specific Features
DEPLOY_SAGEMAKER=false
DEPLOY_EMR_CLUSTER=false
DEPLOY_GLUE_CATALOG=true
DEPLOY_KINESIS_STREAMS=true

# Monitoring Components
DEPLOY_PROMETHEUS_STACK=true
DEPLOY_ELK_STACK=false
DEPLOY_JAEGER_TRACING=false

# =============================================================================
# Advanced Configuration
# =============================================================================

# Custom AMI IDs
ML_TRAINING_AMI_ID=ami-0123456789abcdef0
ML_INFERENCE_AMI_ID=ami-0987654321fedcba0

# Custom Security Groups
CUSTOM_SECURITY_GROUP_IDS=sg-12345678,sg-87654321

# Custom Subnets (if using existing VPC)
EXISTING_VPC_ID=vpc-12345678
EXISTING_PRIVATE_SUBNET_IDS=subnet-12345678,subnet-87654321
EXISTING_PUBLIC_SUBNET_IDS=subnet-abcdef12,subnet-fedcba98

# =============================================================================
# Debugging and Troubleshooting
# =============================================================================

# Terraform Logging
TF_LOG=INFO
TF_LOG_PATH=terraform.log

# AWS CLI Debug
AWS_CLI_DEBUG=false

# Verbose Output
VERBOSE_OUTPUT=false
DEBUG_MODE=false